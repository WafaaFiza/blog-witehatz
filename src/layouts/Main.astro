---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";

const {
  image,
  title = SITE_TITLE,
  description = SITE_DESCRIPTION,
  includeSidebar = true,
  sideBarActiveItemID,
} = Astro.props;
---

<Header title={SITE_TITLE} />
<div class="md:flex md:justify-center">
  <main class="p-6 pt-10 lg:max-w-[900px] max-w-[100vw]">
    <slot />
  </main>
</div>
<Footer />

<script>
  function updateLogoVisibility() {
    const theme = document.documentElement.getAttribute('data-theme');
    const darkLogo = document.getElementById('dark-logo');
    const lightLogo = document.getElementById('light-logo');
    
    if (theme === 'dark') {
      darkLogo.style.display = 'inline-block';
      lightLogo.style.display = 'none';
    } else {
      darkLogo.style.display = 'none';
      lightLogo.style.display = 'inline-block';
    }
    
    document.getElementById('current-theme').textContent = theme;
  }

  // Initial update
  updateLogoVisibility();

  // Watch for theme changes
  const observer = new MutationObserver(updateLogoVisibility);
  observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
</script>

<style>
  #dark-logo, #light-logo {
    display: none;
  }
</style>
